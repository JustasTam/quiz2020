<section class="page-section">
	<div class="container">

		<div class="row">
			<h5 style="padding-right: 10px"> Round 1</h5>
	  	<%= button_to "#{@panel.round1}", { action: "trigger_round1" }, class: "#{@panel.round1 ? 'btn-success' : 'btn-default'}" %>
		</div>		

		<div class="row">
			<h5 style="padding-right: 10px"> Round 2</h5>
	  	<%= button_to "#{@panel.round2}", { action: "trigger_round2" }, class: "#{@panel.round2 ? 'btn-success' : 'btn-default'}" %>
		</div>

		<div class="row">
			<h5 style="padding-right: 10px"> Round 3</h5>
	  	<%= button_to "#{@panel.round3}", { action: "trigger_round3" }, class: "#{@panel.round3 ? 'btn-success' : 'btn-default'}" %>
		</div>

		<div class="row">
			<h5 style="padding-right: 10px"> Round 4</h5>
	  	<%= button_to "#{@panel.round4}", { action: "trigger_round4" }, class: "#{@panel.round4 ? 'btn-success' : 'btn-default'}" %>
		</div>

		<div class="row">
			<h5 style="padding-right: 10px"> Round 5</h5>
	  	<%= button_to "#{@panel.round5}", { action: "trigger_round5" }, class: "#{@panel.round5 ? 'btn-success' : 'btn-default'}" %>
		</div>

		<!-- Icon Divider-->
    <div class="divider-custom">
        <div class="divider-custom-line"></div>
        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
        <div class="divider-custom-line"></div>
    </div>

		<div class="card mb-4">
  <div class="card-header"><i class="fas fa-table mr-1"></i>Statistika</div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
        <thead> 
          <tr>
            <th>Komanda</th>
            <th>Round1</th>
            <th>Round2</th>
            <th>Round3</th>
            <th>Round4</th>
            <th>Round5</th>
            <th>Viso</th>
        </thead>
        <tbody>

          <% if @teams.any? %>
            <% @teams.each do |team| %>
              <tr>
                <td><%= team.name %></td>

                <td><%= link_to "#{team.score1 || nil}", { controller: "admin_tools", action: "check_round", id: team.id, round: 1 } %></td>                
                <td><%= link_to "#{team.score2 || nil}", { controller: "admin_tools", action: "check_round", id: team.id, round: 2 } %></td>                
                <td><%= link_to "#{team.score3 || nil}", { controller: "admin_tools", action: "check_round", id: team.id, round: 3 } %></td>                
                <td><%= link_to "#{team.score4 || nil}", { controller: "admin_tools", action: "check_round", id: team.id, round: 4 } %></td>                
                <td><%= link_to "#{team.score5 || nil}", { controller: "admin_tools", action: "check_round", id: team.id, round: 5 } %></td>

                <td id=<%="#{team.id}_total_score"%>><%= team.score1.to_i + team.score2.to_i + team.score3.to_i + team.score4.to_i + team.score5.to_i %></td>
              </tr>
            <% end %>
          <% end %>

        </tbody>
      </table>
    </div>
  </div>
</div>


	</div>
</section>

<style type="text/css">
	.onoff {
		color: black;
	}
</style>

  <script type="text/javascript">
    // Call the dataTables jQuery plugin
    $(document).ready(function() {
      $('#dataTable').DataTable({
        "paging": false,
        "info": false,
        "bFilter": false
      });
    });    

    // $(document).ready(function() {
    //   $('#dataTable').DataTable( {
    //     "order": [[ 6, "desc" ]]
    //   } );
    // });

    (function($) {
      "use strict";

      // Add active state to sidbar nav links
      var path = window.location.href; // because the 'href' property of the DOM element is the absolute path
        $("#layoutSidenav_nav .sb-sidenav a.nav-link").each(function() {
          if (this.href === path) {
            $(this).addClass("active");
          }
        });

      // Toggle the side navigation
      $("#sidebarToggle").on("click", function(e) {
        e.preventDefault();
        $("body").toggleClass("sb-sidenav-toggled");
      });
    })(jQuery);
   </script>